{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport { NAVER_CLIENT_ID, CLIENT_SECRET } from \"../LoginData\";\n\nconst NaverLoginHandler = () => {\n  _s();\n\n  const {\n    naver\n  } = window;\n  const navigate = useNavigate();\n  React.useEffect(() => {\n    let params = new URL(window.location.href).hash;\n    const code = params.split('=')[1].split('&')[0];\n    const state = params.split('=')[2].split('&')[0];\n    console.log(params); // const getProfile = async () => {\n    //   try {\n    //     let data = await window.Kakao.API.request({url: \"/v2/user/me\"});\n    //     localStorage.setItem(\"user_email\", data.kakao_account.email);\n    //     localStorage.setItem(\"loginType\", 1);\n    //     axios.post(\"/api/login\", {\n    //       param:[\n    //         {email: data.kakao_account.email, nickname: data.kakao_account.profile.nickname},\n    //         {nickname: data.kakao_account.profile.nickname}\n    //       ]\n    //     }).then(() => {navigate(\"/\")});\n    //   } catch (err) {\n    //     console.log(err);\n    //   }\n    // };\n    // axios.get(`https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id=${NAVER_CLIENT_ID}&client_secret=${CLIENT_SECRET}&redirect_uri=http://localhost:3000/login/naver&code=${}&state=' + state`\n    //   , {\n    //   headers: {\n    //     'Authorization': \"Bearer \" + code,\n    //     'Content-Type': 'text/json;charset=utf-8'\n    //   }\n    // }).then((res) => {\n    //   console.log(res);\n    // }).catch(e => console.log(e));\n  }, [navigate]);\n  return null;\n};\n\n_s(NaverLoginHandler, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = NaverLoginHandler;\nexport default NaverLoginHandler;\n\nvar _c;\n\n$RefreshReg$(_c, \"NaverLoginHandler\");","map":{"version":3,"names":["React","axios","useNavigate","NAVER_CLIENT_ID","CLIENT_SECRET","NaverLoginHandler","naver","window","navigate","useEffect","params","URL","location","href","hash","code","split","state","console","log"],"sources":["D:/web project/todoList/client/src/components/NaverLoginHandler.js"],"sourcesContent":["import React from \"react\";\r\nimport axios from 'axios';\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport { NAVER_CLIENT_ID, CLIENT_SECRET } from \"../LoginData\";\r\n\r\nconst NaverLoginHandler = () => {\r\n  const { naver } = window;\r\n  const navigate = useNavigate();\r\n\r\n  React.useEffect(()=> {\r\n    let params = new URL(window.location.href).hash;\r\n    const code = params.split('=')[1].split('&')[0];\r\n    const state = params.split('=')[2].split('&')[0];\r\n    console.log(params);\r\n    // const getProfile = async () => {\r\n    //   try {\r\n    //     let data = await window.Kakao.API.request({url: \"/v2/user/me\"});\r\n    //     localStorage.setItem(\"user_email\", data.kakao_account.email);\r\n    //     localStorage.setItem(\"loginType\", 1);\r\n    //     axios.post(\"/api/login\", {\r\n    //       param:[\r\n    //         {email: data.kakao_account.email, nickname: data.kakao_account.profile.nickname},\r\n    //         {nickname: data.kakao_account.profile.nickname}\r\n    //       ]\r\n    //     }).then(() => {navigate(\"/\")});\r\n    //   } catch (err) {\r\n    //     console.log(err);\r\n    //   }\r\n    // };\r\n\r\n    // axios.get(`https://nid.naver.com/oauth2.0/token?grant_type=authorization_code&client_id=${NAVER_CLIENT_ID}&client_secret=${CLIENT_SECRET}&redirect_uri=http://localhost:3000/login/naver&code=${}&state=' + state`\r\n    //   , {\r\n    //   headers: {\r\n    //     'Authorization': \"Bearer \" + code,\r\n    //     'Content-Type': 'text/json;charset=utf-8'\r\n    //   }\r\n    // }).then((res) => {\r\n    //   console.log(res);\r\n    // }).catch(e => console.log(e));\r\n\r\n    }, [navigate])\r\n  return null;\r\n};\r\n\r\nexport default NaverLoginHandler"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,SAASC,eAAT,EAA0BC,aAA1B,QAA+C,cAA/C;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;EAAA;;EAC9B,MAAM;IAAEC;EAAF,IAAYC,MAAlB;EACA,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EAEAF,KAAK,CAACS,SAAN,CAAgB,MAAK;IACnB,IAAIC,MAAM,GAAG,IAAIC,GAAJ,CAAQJ,MAAM,CAACK,QAAP,CAAgBC,IAAxB,EAA8BC,IAA3C;IACA,MAAMC,IAAI,GAAGL,MAAM,CAACM,KAAP,CAAa,GAAb,EAAkB,CAAlB,EAAqBA,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAb;IACA,MAAMC,KAAK,GAAGP,MAAM,CAACM,KAAP,CAAa,GAAb,EAAkB,CAAlB,EAAqBA,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAd;IACAE,OAAO,CAACC,GAAR,CAAYT,MAAZ,EAJmB,CAKnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEC,CA/BH,EA+BK,CAACF,QAAD,CA/BL;EAgCA,OAAO,IAAP;AACD,CArCD;;GAAMH,iB;UAEaH,W;;;KAFbG,iB;AAuCN,eAAeA,iBAAf"},"metadata":{},"sourceType":"module"}