{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport axios from 'axios';\nimport { REST_API_KEY, REDIRECT_URI } from \"../kakaoLoginData\";\nimport { useHistory } from \"react-router-dom\";\n\nconst KakaoRedirectHandler = () => {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  _s(useEffect(_s(() => {\n    _s();\n\n    let params = new URL(window.location.href).searchParams.get(\"code\");\n    let grant_type = \"authorization_code\";\n    const history = useHistory();\n    axios.post(`https://kauth.kakao.com/oauth/token?grant_type=${grant_type}&client_id=${REST_API_KEY}&redirect_uri=${REDIRECT_URI}&code=${params}`, {\n      headers: {\n        'Content-type': 'application/x-www-form-urlencoded;charset=utf-8'\n      }\n    }).then(res => {\n      window.Kakao.init(REST_API_KEY);\n      window.Kakao.Auth.setAccessToken(res.data.access_token);\n      console.log(res.data);\n      history.push(\"/login\");\n    });\n  }, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n    return [useHistory];\n  }), []), \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n    return [useHistory];\n  });\n\n  return null;\n};\n\n_s2(KakaoRedirectHandler, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = KakaoRedirectHandler;\nexport default KakaoRedirectHandler;\n\nvar _c;\n\n$RefreshReg$(_c, \"KakaoRedirectHandler\");","map":{"version":3,"names":["React","useEffect","axios","REST_API_KEY","REDIRECT_URI","useHistory","KakaoRedirectHandler","params","URL","window","location","href","searchParams","get","grant_type","history","post","headers","then","res","Kakao","init","Auth","setAccessToken","data","access_token","console","log","push"],"sources":["D:/web project/todoList/client/src/pages/KakaoLogin.js"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport axios from 'axios';\r\nimport { REST_API_KEY, REDIRECT_URI } from \"../kakaoLoginData\";\r\nimport { useHistory } from \"react-router-dom\"\r\n\r\nconst KakaoRedirectHandler = () => {\r\n  useEffect(()=> {\r\n    let params = new URL(window.location.href).searchParams.get(\"code\");\r\n    let grant_type = \"authorization_code\";\r\n    const history = useHistory();\r\n\r\n    axios.post(`https://kauth.kakao.com/oauth/token?grant_type=${grant_type}&client_id=${REST_API_KEY}&redirect_uri=${REDIRECT_URI}&code=${params}`\r\n      , {\r\n      headers: {\r\n          'Content-type': 'application/x-www-form-urlencoded;charset=utf-8'\r\n      }\r\n    }).then((res) => {\r\n      window.Kakao.init(REST_API_KEY);\r\n      window.Kakao.Auth.setAccessToken(res.data.access_token);\r\n      console.log(res.data);\r\n      history.push(\"/login\");\r\n    })\r\n    }, [])\r\n  return null;\r\n};\r\n\r\nexport default KakaoRedirectHandler;"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,mBAA3C;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,oBAAoB,GAAG,MAAM;EAAA;;EAAA;;EACjC,GAAAL,SAAS,IAAC,MAAK;IAAA;;IACb,IAAIM,MAAM,GAAG,IAAIC,GAAJ,CAAQC,MAAM,CAACC,QAAP,CAAgBC,IAAxB,EAA8BC,YAA9B,CAA2CC,GAA3C,CAA+C,MAA/C,CAAb;IACA,IAAIC,UAAU,GAAG,oBAAjB;IACA,MAAMC,OAAO,GAAGV,UAAU,EAA1B;IAEAH,KAAK,CAACc,IAAN,CAAY,kDAAiDF,UAAW,cAAaX,YAAa,iBAAgBC,YAAa,SAAQG,MAAO,EAA9I,EACI;MACFU,OAAO,EAAE;QACL,gBAAgB;MADX;IADP,CADJ,EAKGC,IALH,CAKSC,GAAD,IAAS;MACfV,MAAM,CAACW,KAAP,CAAaC,IAAb,CAAkBlB,YAAlB;MACAM,MAAM,CAACW,KAAP,CAAaE,IAAb,CAAkBC,cAAlB,CAAiCJ,GAAG,CAACK,IAAJ,CAASC,YAA1C;MACAC,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACK,IAAhB;MACAT,OAAO,CAACa,IAAR,CAAa,QAAb;IACD,CAVD;EAWC,CAhBM;IAAA,QAGSvB,UAHT;EAAA,IAgBJ,EAhBI,CAAT;IAAA,QAGkBA,UAHlB;EAAA;;EAiBA,OAAO,IAAP;AACD,CAnBD;;IAAMC,oB;;KAAAA,oB;AAqBN,eAAeA,oBAAf"},"metadata":{},"sourceType":"module"}