{"ast":null,"code":"var _jsxFileName = \"D:\\\\web project\\\\todoList\\\\client\\\\src\\\\components\\\\GoogleLogin.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useGoogleLogin } from '@react-oauth/google';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst GoogleLoginHandler = () => {\n  _s();\n\n  const navigate = useNavigate();\n\n  const onSuccess = async res => {\n    let userinfo = await axios.get(`https://www.googleapis.com/oauth2/v2/userinfo?access_token=${res.access_token}`).catch(e => console.log(e));\n    localStorage.setItem(\"user_email\", userinfo.data.email);\n    localStorage.setItem(\"loginType\", 2);\n    axios.post(\"/api/login\", {\n      param: [{\n        email: userinfo.data.email,\n        nickname: userinfo.data.name\n      }, {\n        nickname: userinfo.data.name\n      }]\n    }).then(() => {\n      navigate(\"/\");\n    }).catch(e => console.log(e));\n  };\n\n  const onFailure = res => {\n    alert(\"구글 로그인에 실패하였습니다\");\n    console.log(\"err\", res);\n    navigate(\"/\");\n  };\n\n  const login = useGoogleLogin({\n    onSuccess: res => onSuccess(res),\n    onError: res => onFailure(res)\n  });\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    onClick: login,\n    src: require(\"../icons/google.png\"),\n    style: {\n      height: \"30px\",\n      width: \"auto\",\n      cursor: \"pointer\"\n    },\n    alt: \"...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GoogleLoginHandler, \"Lfw04slfjC/tspen7VC4VEWfEos=\", false, function () {\n  return [useNavigate, useGoogleLogin];\n});\n\n_c = GoogleLoginHandler;\nexport default GoogleLoginHandler;\n\nvar _c;\n\n$RefreshReg$(_c, \"GoogleLoginHandler\");","map":{"version":3,"names":["React","useGoogleLogin","axios","useNavigate","GoogleLoginHandler","navigate","onSuccess","res","userinfo","get","access_token","catch","e","console","log","localStorage","setItem","data","email","post","param","nickname","name","then","onFailure","alert","login","onError","require","height","width","cursor"],"sources":["D:/web project/todoList/client/src/components/GoogleLogin.js"],"sourcesContent":["import React from 'react';\r\nimport { useGoogleLogin } from '@react-oauth/google';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router';\r\n\r\nconst GoogleLoginHandler = () => {\r\n  const navigate = useNavigate();\r\n  const onSuccess = async (res) => {\r\n    let userinfo = await axios.get(`https://www.googleapis.com/oauth2/v2/userinfo?access_token=${res.access_token}`)\r\n      .catch(e => console.log(e));\r\n    localStorage.setItem(\"user_email\", userinfo.data.email);\r\n    localStorage.setItem(\"loginType\", 2);\r\n    axios.post(\"/api/login\", {\r\n      param:[\r\n        {email: userinfo.data.email, nickname: userinfo.data.name},\r\n        {nickname: userinfo.data.name}\r\n      ]\r\n    }).then(() => {navigate(\"/\")})\r\n    .catch(e => console.log(e));\r\n  }\r\n\r\n  const onFailure = (res) => {\r\n    alert(\"구글 로그인에 실패하였습니다\");\r\n    console.log(\"err\", res);\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const login = useGoogleLogin({\r\n    onSuccess: res => onSuccess(res),\r\n    onError: res => onFailure(res)\r\n  });\r\n\r\n  return (\r\n    <img \r\n      onClick={login} \r\n      src={require(\"../icons/google.png\")} \r\n      style={{height:\"30px\", width:\"auto\", cursor:\"pointer\"}} \r\n      alt=\"...\" />\r\n  )\r\n}\r\n\r\nexport default GoogleLoginHandler;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,cAA5B;;;AAEA,MAAMC,kBAAkB,GAAG,MAAM;EAAA;;EAC/B,MAAMC,QAAQ,GAAGF,WAAW,EAA5B;;EACA,MAAMG,SAAS,GAAG,MAAOC,GAAP,IAAe;IAC/B,IAAIC,QAAQ,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAW,8DAA6DF,GAAG,CAACG,YAAa,EAAzF,EAClBC,KADkB,CACZC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CADO,CAArB;IAEAG,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCR,QAAQ,CAACS,IAAT,CAAcC,KAAjD;IACAH,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkC,CAAlC;IACAd,KAAK,CAACiB,IAAN,CAAW,YAAX,EAAyB;MACvBC,KAAK,EAAC,CACJ;QAACF,KAAK,EAAEV,QAAQ,CAACS,IAAT,CAAcC,KAAtB;QAA6BG,QAAQ,EAAEb,QAAQ,CAACS,IAAT,CAAcK;MAArD,CADI,EAEJ;QAACD,QAAQ,EAAEb,QAAQ,CAACS,IAAT,CAAcK;MAAzB,CAFI;IADiB,CAAzB,EAKGC,IALH,CAKQ,MAAM;MAAClB,QAAQ,CAAC,GAAD,CAAR;IAAc,CAL7B,EAMCM,KAND,CAMOC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAYF,CAAZ,CANZ;EAOD,CAZD;;EAcA,MAAMY,SAAS,GAAIjB,GAAD,IAAS;IACzBkB,KAAK,CAAC,iBAAD,CAAL;IACAZ,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBP,GAAnB;IACAF,QAAQ,CAAC,GAAD,CAAR;EACD,CAJD;;EAMA,MAAMqB,KAAK,GAAGzB,cAAc,CAAC;IAC3BK,SAAS,EAAEC,GAAG,IAAID,SAAS,CAACC,GAAD,CADA;IAE3BoB,OAAO,EAAEpB,GAAG,IAAIiB,SAAS,CAACjB,GAAD;EAFE,CAAD,CAA5B;EAKA,oBACE;IACE,OAAO,EAAEmB,KADX;IAEE,GAAG,EAAEE,OAAO,CAAC,qBAAD,CAFd;IAGE,KAAK,EAAE;MAACC,MAAM,EAAC,MAAR;MAAgBC,KAAK,EAAC,MAAtB;MAA8BC,MAAM,EAAC;IAArC,CAHT;IAIE,GAAG,EAAC;EAJN;IAAA;IAAA;IAAA;EAAA,QADF;AAOD,CAlCD;;GAAM3B,kB;UACaD,W,EAqBHF,c;;;KAtBVG,kB;AAoCN,eAAeA,kBAAf"},"metadata":{},"sourceType":"module"}